# coding=UTF-8
# -----------------------------------------------
# Generated by InVEST 3.9.0 on Thu Jan 21 16:34:22 2021
# Model: Sediment Delivery Ratio Model (SDR)

import os
import logging
import sys

import natcap.invest.sdr.sdr
import natcap.invest.utils

LOGGER = logging.getLogger(__name__)
root_logger = logging.getLogger()

handler = logging.StreamHandler(sys.stdout)
formatter = logging.Formatter(
    fmt=natcap.invest.utils.LOG_FMT,
    datefmt='%m/%d/%Y %H:%M:%S ')
handler.setFormatter(formatter)
logging.basicConfig(level=logging.INFO, handlers=[handler])

args = {
    'dem_path': 'C:/Users/ginge/Dropbox/NatCap_backup/Moore_Amazon/SDR_SWY_data_inputs/projected/HydroSHEDS_CON_Chaglla_UTM18S.tif',
    'drainage_path': '',
    'erodibility_path': 'C:/Users/ginge/Dropbox/NatCap_backup/Moore_Amazon/SDR_SWY_data_inputs/projected/erodibility_ISRIC_30arcseconds.tif',
    'ic_0_param': '0.5',
    'k_param': '2',
    'results_suffix': '',
    'sdr_max': '0.8',
    'threshold_flow_accumulation': '1000',
    'watersheds_path': 'C:/Users/ginge/Dropbox/NatCap_backup/Moore_Amazon/SDR_SWY_data_inputs/projected/Chaglla_dam_watershed.shp',
}

if __name__ == '__main__':
    outer_dir = 'C:/Users/ginge/Documents/NatCap/GIS_local/Moore_Amazon'
    result_dir = os.path.join(outer_dir, 'SDR_workspace')

    # contrast ESA with SEALS current lulc and Panagos vs Roose erosivity
    # ESA landcover, Panagos erosivity
    args['workspace_dir'] = os.path.join(
        result_dir, 'ESA2015_landcover', 'Panagos_erosivity')
    args['lulc_path'] = 'C:/Users/ginge/Dropbox/NatCap_backup/Moore_Amazon/SDR_SWY_data_inputs/projected/ESACCI-LC-L4-LCCS-Map-300m-P1Y-2015-v2-0-7.tif'
    args['biophysical_table_path'] = 'C:/Users/ginge/Dropbox/NatCap_backup/Moore_Amazon/SDR_SWY_data_inputs/biophysical_table_Chaglla_ESA_2015.csv'
    args['erosivity_path'] = 'C:/Users/ginge/Dropbox/NatCap_backup/Moore_Amazon/SDR_SWY_data_inputs/projected/erosivity_Panagos_etal_Chaglla_aoi_UTM.tif'
    natcap.invest.sdr.sdr.execute(args)

    # ESA landcover, Roose erosivity
    args['workspace_dir'] = os.path.join(
        result_dir, 'ESA2015_landcover', 'Roose_erosivity')
    args['lulc_path'] = 'C:/Users/ginge/Dropbox/NatCap_backup/Moore_Amazon/SDR_SWY_data_inputs/projected/ESACCI-LC-L4-LCCS-Map-300m-P1Y-2015-v2-0-7.tif'
    args['biophysical_table_path'] = 'C:/Users/ginge/Dropbox/NatCap_backup/Moore_Amazon/SDR_SWY_data_inputs/biophysical_table_Chaglla_ESA_2015.csv'
    args['erosivity_path'] = 'F:/Moore_Amazon_backups/precipitation/erosivity_Roose/erosivity_current.tif'
    natcap.invest.sdr.sdr.execute(args)

    # SEALS landcover, Panagos erosivity
    args['workspace_dir'] = os.path.join(
        result_dir, 'SEALS2015_landcover', 'Panagos_erosivity')
    args['lulc_path'] = "C:/Users/ginge/Dropbox/NatCap_backup/Moore_Amazon/SDR_SWY_data_inputs/projected/lulc_esa_2015_reclassified_to_seals_simplified.tif"
    args['biophysical_table_path'] = "C:/Users/ginge/Dropbox/NatCap_backup/Moore_Amazon/SDR_SWY_data_inputs/biophysical_table_Chaglla_SEALS_simplified.csv"
    args['erosivity_path'] = 'C:/Users/ginge/Dropbox/NatCap_backup/Moore_Amazon/SDR_SWY_data_inputs/projected/erosivity_Panagos_etal_Chaglla_aoi_UTM.tif'
    natcap.invest.sdr.sdr.execute(args)

    # SEALS landcover, Roose erosivity
    args['workspace_dir'] = os.path.join(
        result_dir, 'SEALS2015_landcover', 'Roose_erosivity')
    args['lulc_path'] = "C:/Users/ginge/Dropbox/NatCap_backup/Moore_Amazon/SDR_SWY_data_inputs/projected/lulc_esa_2015_reclassified_to_seals_simplified.tif"
    args['biophysical_table_path'] = "C:/Users/ginge/Dropbox/NatCap_backup/Moore_Amazon/SDR_SWY_data_inputs/biophysical_table_Chaglla_SEALS_simplified.csv"
    args['erosivity_path'] = 'F:/Moore_Amazon_backups/precipitation/erosivity_Roose/erosivity_current.tif'
    natcap.invest.sdr.sdr.execute(args)
